# 模拟卷智能导入功能

## 🎯 功能概述

**问题**：上传的模拟卷包含混合题型（语法题、词转练习、阅读理解），需要分别上传吗？

**答案**：✅ **不需要！** 系统支持**统一上传，自动识别并分配到不同模块**。

---

## 🚀 核心功能

### 支持的题型

| 题型 | 识别特征 | 分配到模块 |
|-----|---------|-----------|
| 语法题 | 选择题形式，A/B/C/D选项 | 语法题库 |
| 词转练习 | 带括号提示词 `_____ (go)` | 词转练习库 |
| 阅读理解 | 长文本 + 子问题 | 阅读理解库 |

### 工作流程

```
一份模拟卷文件
  ↓
智能识别题型
  ↓
自动分配
  ↓
├─ 语法题 → 语法题库
├─ 词转练习 → 词转练习库
└─ 阅读理解 → 阅读理解库
```

---

## 📝 使用示例

### 示例文件 (exam.txt)

```
初二英语模拟卷 - 2024年3月

一、语法题

1. He _____ to school every day.
   A. go
   B. goes
   C. going
   D. went

二、词转练习

3. The weather is getting _____ (warm).
4. He is the _____ (tall) student.

三、阅读理解

Many people like to travel...

9. Why do many people like to travel?
   A. To meet new people
   B. To learn about different cultures
   C. All of the above
```

### 上传步骤

1. 访问 `/admin/exam/upload`
2. 选择文件
3. 输入版本号（如：2024-03）
4. 点击"开始智能导入"

### 识别结果

```
✅ 语法题：2道 → 语法题库
✅ 词转练习：2道 → 词转练习库
✅ 阅读理解：1篇 → 阅读理解库
```

---

## 📊 优势对比

### 旧方案（分别上传）

```
步骤1：上传语法题
步骤2：上传词转练习
步骤3：上传阅读理解

缺点：
❌ 需要手动分类
❌ 需要分别上传3次
❌ 耗时长（~15分钟）
```

### 新方案（统一上传）

```
步骤：一次性上传

优点：
✅ 系统自动识别
✅ 只需上传1次
✅ 省时省力（~5分钟）
```

---

## 🎨 用户界面

**上传页面**：`/admin/exam/upload`

- ✅ 实时文件预览
- ✅ 智能识别进度
- ✅ 分类结果统计
- ✅ 详细结果展示

---

## 📂 新增文件

| 文件 | 功能 |
|-----|------|
| `src/utils/questionParser.ts` | 智能题目解析器 |
| `src/app/api/admin/exam/upload/route.ts` | 统一上传API |
| `src/app/api/admin/exam/parse/route.ts` | AI解析辅助API |
| `src/app/admin/exam/upload/page.tsx` | 统一上传界面 |

---

## ✅ 功能特性

1. ✅ **智能题型识别**（规则 + AI辅助）
2. ✅ **自动分配到不同模块**
3. ✅ **支持混合题型**
4. ✅ **实时进度显示**
5. ✅ **详细结果统计**

---

## 🎉 总结

**答案**：**不需要分别上传！**

使用新的"模拟卷智能导入"功能，只需上传一次，系统会自动识别题型并分配到对应的模块，省时省力！

请登录后访问 `/admin/exam/upload` 体验！🚀
